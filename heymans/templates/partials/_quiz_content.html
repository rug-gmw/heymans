{% raw %}
<div id="app">
<div class="content-row">
    <div class="left-menu">
    <!-- Create New Quiz button as a list item -->
    <h3 @click="createNewQuiz">
      ＋ Create new
    </h3>
    <ul>

    <!-- Existing quiz list -->
      <li 
          v-for="quiz in quizList" 
          :key="quiz.quiz_id" 
          @click="getFullQuiz(quiz.quiz_id)" 
          :class="{ selected: quiz.quiz_id === quizSelected }"
        >        {{ quiz.name }}
      </li>
    </ul>
  </div> <!-- ends left-menu -->

  <div class="main-content">
    <!-- Quiz title and status -->
    <div class="focus-object-line" v-if="quizSelected">
      <h2>{{ quizName }}</h2> 
      <p class='heymans-msg'> {{quizStateLabel}} </p>
    </div>

    <!-- Collapsible Card: Create and Validate -->
    <div class="card">
      <div class="card-header" @click="showCreatePanel = !showCreatePanel">
        <h4>Quiz content</h4>
        <span class="toggle-icon">{{ showCreatePanel ? '▲' : '▼' }}</span>
      </div>
        <transition name="collapse">
          <div class="card-body" v-show="showCreatePanel">
            <!-- upload and validate -->
            <div class="button-row">
            <!-- Triggering file upload event -->
            <button class="regular-button" @click="triggerFileInput">Upload Quiz File</button>
            <input
              ref="fileInput"
              type="file"
              accept=".md,.txt"
              style="display: none"
              @change="uploadQuiz"
            />
              <button class="llm-button" @click="validateQuiz" :disabled="true">
                Validate Quiz
              </button>
            </div>

          </div>
        </transition>
      </div>

    <!-- Collapsible Card: Grade attempts -->
    <div class="card">
      <div class="card-header" @click="showGradePanel = !showGradePanel">
        <h4>Grade attempts</h4>
        <span class="toggle-icon">{{ showGradePanel ? '▲' : '▼' }}</span>
      </div>
        <transition name="collapse">
          <div class="card-body" v-show="showGradePanel">
            <p>[Grading functionality]</p>
          </div>
        </transition>
      </div>

    <!-- Collapsible Card: Analyze results -->
    <div class="card">
      <div class="card-header" @click="showAnalyzePanel = !showAnalyzePanel">
        <h4>Analyze the results</h4>
        <span class="toggle-icon">{{ showAnalyzePanel ? '▲' : '▼' }}</span>
      </div>
        <transition name="collapse">
          <div class="card-body" v-show="showAnalyzePanel">
            <p>Run analyses</p>
          </div>
        </transition>
      </div>

      <!-- Button to delete quiz: -->
      <div class="button-row" style="justify-content: flex-end;">
        <button class="regular-button" @click="deleteQuiz" :disabled="!quizSelected">
          Delete quiz
        </button>
      </div>
    <pre>{{ quizSelected }}</pre>
    <pre>{{ quizList  }}</pre>
    <pre> "===" </pre>
    <pre>{{ fullQuizData }}</pre>
    
    <!-- Overlay to show errors: -->
    <div id="overlay" class="overlay">
      <div class="overlay-content">
        <span class="alarm-symbol">⚠️</span>
        <p id="overlay-message"></p>
        <button class="regular-button" @click='closeOverlay'>Close</button>
      </div>
    </div>

  </div>  <!-- end main-content -->

</div> <!--  end content-row -->
</div> <!-- ends the app -->
{% endraw %}